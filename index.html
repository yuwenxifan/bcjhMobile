<!DOCTYPE html>
<html lang="ch">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>个人爱好[白菜菊花]</title>
  <link rel="icon" href="./favicon.png?v=1">
  <link rel="stylesheet" href="./css/index.css?v=44">
  <link rel="stylesheet" href="./css/image.css?v=74">
  <link rel="stylesheet" href="./ele/index.css">
</head>
<body>
  <div id="main" v-cloak>
    <div v-if="loading" class="loading">
      <div>爆炒江湖图鉴</div>
    </div>
    <div class="modal" v-if="planListShow" @click="planListShow = false"></div>
    <div class="modal" v-if="customRuleShow" @click="customRuleShow = false"></div>
    <div v-loading.fullscreen.lock="calLoading"></div>
    <aside class="aside">
      <el-drawer class="left-bar" :visible.sync="leftBar" direction="ltr" size="240px" :with-header="false">
        <div class="left-bar-header">
          <div class="header">
            <img class="img-header" src="./images/saltFish.png" alt="咸公主">
            <div class="title" @click="checkNav(0)">白菜菊花图鉴</div>
            <div class="sub-title">by 小鱼、L</div>
          </div>
        </div>
        <div class="body">
          <div class="nav" v-for="item in nav" :class="item.id === navId ? 'active' : '' " @click="checkNav(item.id)">
            <i :class="item.icon"></i>
            {{item.name}}
          </div>
        </div>
      </el-drawer>
      <el-drawer class="right-bar" :visible.sync="rightBar" size="300px" :with-header="false">
        <div class="right-bar-body" :class="navId == 1 ? 'scroll-rep' : (navId == 2 ? 'scroll-chef' : '')">
          <div v-show="navId === 1">
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('repCol')">全选</span>
              <span
                v-for="(val, key) in repColName"
                class="checkbox"
                :class="repCol[key] ? 'active' : ''"
                @click="repCol[key] = !repCol[key]"
              >{{val}}</span>
              <span class="select-box" style="width: 90px; vertical-align: top; position: relative; z-index: 1003;">
                <muti-select
                  ref="exDetailGap"
                  :option="gap_list"
                  placeholder="专精耗时"
                  v-model="exGap"
                  :max="1"
                  :simple="true"
                  ></muti-select>
              </span>
              <br/>
              <div class="checkbox-contain" style="vertical-align: top">
                <span class="select-box" :class="repChef.id.length == 1 ? 'split-left' : ''" style="vertical-align: top; width: 123px; position: relative; z-index: 1002;">
                  <muti-select
                    :option="chefs_list"
                    placeholder="选择厨师"
                    v-model="repChef"
                    @focus="scroll(162)"
                  ></muti-select>
                </span>
                <span class="select-box split-right chef-task" style="width: 130px; position: relative; z-index: 1002; margin-bottom: 0;" v-if="repChef.id.length == 1">
                  <muti-select
                    :option="chefs_task_list"
                    ref="repChefTask"
                    placeholder="选择修炼任务"
                    v-model="repChefTask"
                    @change="checkChefTask"
                    :simple="true"
                    :max="1"
                  ></muti-select>
                </span>
                <span class="select-box" v-if="repChef.id.length > 1" style="vertical-align: top; margin: 0;">
                  <span
                    class="checkbox"
                    :class="repSkillGap ? 'active' : ''"
                    @click="repSkillGap = !repSkillGap"
                  >神级能力差</span>
                </span>
                <span v-show="chefUltimate"
                  class="select-box split-left chef-skill" style="width: 150px; position: relative; z-index: 1000; margin-top: 0; vertical-align: top;" v-if="repChef.id.length > 0">
                  <muti-select
                    :option="chef_partial_skill_list"
                    :key="time1"
                    placeholder="额外使用上场类技能"
                    v-model="partial_skill"
                    ref="partialSkill"
                    :max="2"
                    @focus="scroll(192)"
                  ></muti-select>
                </span>
                <span
                  class="select-box chef-equip"
                  :class="chefUltimate ? 'split-right' : ''"
                  style="position: relative; z-index: 1000; margin-top: 0; margin-bottom: 0;"
                  :style="chefUltimate ? 'width: 103px;' : 'width: 253px'"
                  v-if="repChef.id.length > 0">
                  <muti-select
                    :option="rep_equips_list"
                    placeholder="使用厨具"
                    v-model="repChefEquip"
                    ref="repChefEquip"
                    :max="1"
                    @change="initRep"
                    @focus="scroll(192)"
                  ></muti-select>
                </span>
              </div>
            </div>
            <div class="box">
              <div class="box-title">筛选</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in repFilter.rarity"
                  :class="val ? 'active' : ''"
                  @click="repFilter.rarity[key] = !val"
                >{{key}}星</span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in repFilter.skill"
                  :class="val.flag ? 'active' : ''"
                  @click="checkSkill(key)"
                >{{val.name}}</span>
                <br/>
                <span class="checkbox" @click="selectAll('repFilter.skill')">全选</span>
                <el-switch
                  v-model="skill_radio"
                  active-color="#82a1b0"
                  active-text="单选"
                  @change="changeSkillRadio"
                  inactive-color="#ddd">
                </el-switch>
                <el-switch
                  v-model="skill_type"
                  active-color="#82a1b0"
                  active-text="同时"
                  @change="changeSkillType"
                  inactive-color="#ddd">
                </el-switch>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in repFilter.condiment"
                  :class="val.flag ? 'active' : ''"
                  @click="checkCondiment(key)"
                >{{val.name}}</span>
                <br/>
                <span class="checkbox" @click="selectAll('repFilter.condiment')">全选</span>
                <el-switch
                  v-model="condiment_radio"
                  active-color="#82a1b0"
                  active-text="单选"
                  @change="changeRepCondimentRadio"
                  inactive-color="#ddd">
                </el-switch>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in repFilter.material"
                  :class="val.flag ? 'active' : ''"
                  @click="repFilter.material[key].flag = !val.flag"
                >{{val.name}}</span>
                <el-switch
                  v-model="repFilter.material_type"
                  active-color="#82a1b0"
                  active-text="同时"
                  inactive-color="#ddd">
                </el-switch>
              </div>
              <div class="checkbox-contain">
                <span class="select-box" style="position: relative; z-index: 1001;">
                  <muti-select
                    ref="materialEff"
                    :option="materials_list"
                    placeholder="耗材效率"
                    v-model="repFilter.materialEff"
                    @focus="scroll(452 + (repChef.id.length > 0 ? 30 : 0))"
                  ></muti-select>
                </span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  :class="repFilter.guest ? 'active' : ''"
                  @click="repFilter.guest = !repFilter.guest"
                >贵客</span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  :class="repFilter.got ? 'active' : ''"
                  @click="repFilter.got = !repFilter.got"
                >已有</span>
              </div>
              <div class="checkbox-contain">
                <div class="prepend-input">
                  <div class="input-box">
                    <div class="prepend">单价大于</div>
                    <input type="number" v-model="repFilter.price" @focus="scroll(393 + (repChef.id.length > 0 ? 30 : 0))" />
                  </div>
                </div>
                <el-switch
                  v-model="allEx"
                  @change="changeAllEx"
                  active-color="#82a1b0"
                  active-text="专精后"
                  inactive-color="#ddd">
                </el-switch>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  :class="repFilter.combo ? 'active' : ''"
                  style="vertical-align: top;"
                  @click="repFilter.combo = !repFilter.combo"
                >可合成</span>
                <span class="select-box" v-show="repFilter.combo" style="position: relative; z-index: 1000;">
                  <muti-select
                    ref="combosEff"
                    :option="combos_list"
                    placeholder="合成菜谱"
                    v-model="repFilter.comboRep"
                    :max="1"
                    @focus="scroll(523 + (repChef.id.length > 0 ? 30 : 0))"
                    ></muti-select>
                </span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  :class="repFilter.invitation ? 'active' : ''"
                  style="vertical-align: top;"
                  @click="repFilter.invitation = !repFilter.invitation"
                >宴会贵客</span>
                <span class="select-box" v-show="repFilter.invitation" style="position: relative; z-index: 999;">
                  <muti-select
                    ref="invitationGuestRef"
                    :option="invitation_guest_list"
                    placeholder="宴会贵客"
                    v-model="repFilter.invitationGuest"
                    :max="1"
                    @focus="scroll(559 + (repChef.id.length > 0 ? 30 : 0))"
                    ></muti-select>
                </span>
              </div>
            </div>
          </div>
          <div v-show="navId === 2">
            <div class="box">
              <div class="box-title">修炼</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <div style="margin-top: 12px;">
                  <el-switch
                    v-model="chefUltimate"
                    active-color="#82a1b0"
                    active-text="修炼开"
                    @change="changeChefUltimate"
                    inactive-color="#ddd">
                  </el-switch>
                </div>
                <span v-show="chefUltimate" class="select-box" style="width: 250px; position: relative; z-index: 1002;">
                  <muti-select
                    :option="chef_partial_skill_list"
                    placeholder="额外使用上场类技能"
                    :key="time2"
                    v-model="partial_skill"
                    ref="partialSkill"
                    :max="2"
                  ></muti-select>
                </span>
                <div v-show="chefUltimate" class="switch-box">
                  <el-switch
                    v-model="showLastSkill"
                    active-color="#82a1b0"
                    active-text="显示最终值"
                    inactive-color="#ddd">
                  </el-switch>
                  <el-switch
                    v-model="chefUseAllUltimate"
                    active-color="#82a1b0"
                    active-text="全修炼"
                    @change="initChef"
                    inactive-color="#ddd">
                  </el-switch>
                </div>
              </div>
            </div>
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('chefCol')">全选</span>
              <span
                v-for="(val, key) in chefColName"
                class="checkbox"
                :class="chefCol[key] ? 'active' : ''"
                @click="chefCol[key] = !chefCol[key]"
              >{{val}}</span>
              <span class="select-box split-left" style="width: 150px;">
                <muti-select
                  :option="reps_list"
                  placeholder="选择菜谱"
                  v-model="chefRep"
                  @focus="scroll(130)"
                ></muti-select>
              </span>
              <span class="select-box split-right" style="width: 105px;">
                <muti-select
                  ref="chefSkillGap"
                  :option="chef_skill_gap_list"
                  placeholder="等级能力差"
                  v-model="chefSkillGap"
                  :max="1"
                  :simple="true"
                  ></muti-select>
              </span>
            </div>
            <div class="box">
              <div class="box-title">筛选</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in chefFilter.rarity"
                  :class="val ? 'active' : ''"
                  @click="chefFilter.rarity[key] = !val"
                >{{key}}星</span>
              </div>
              <div class="checkbox-contain" style="position: relative;">
                <!-- 不知道为什么抽屉的第一个input会自动获取焦点，奇奇怪怪的 -->
                <!-- 我在这里放一个看不见的input，不能是text类型否则手机会呼起软键盘 -->
                <input class="hidden" type="checkbox">
                <div class="prepend-input" v-for="(val, key) in chefFilter.skills" :key="key">
                  <div class="input-box">
                    <div class="prepend">{{val.name}}</div>
                    <input type="number" v-model="chefFilter.skills[key].val" @focus="scroll(240)"/>
                  </div>
                </div>
                <span class="checkbox clear" @click="clearFilterSkills">
                  清<br/>空
                </span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in chefFilter.condiment"
                  :class="val.flag ? 'active' : ''"
                  @click="checkChefCondiment(key)"
                >{{val.name}}</span>
                <br/>
                <span class="checkbox" @click="selectAll('chefFilter.condiment')">全选</span>
                <el-switch
                  v-model="chefFilter.condiment_radio"
                  active-color="#82a1b0"
                  active-text="单选"
                  @change="changeChefCondimentRadio"
                  inactive-color="#ddd">
                </el-switch>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in chefFilter.sex"
                  :class="val.flag ? 'active' : ''"
                  @click="chefFilter.sex[key].flag = !val.flag"
                >{{val.name}}</span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  :class="chefFilter.got ? 'active' : ''"
                  @click="chefFilter.got = !chefFilter.got"
                >已有</span>
              </div>
            </div>
          </div>
          <div v-show="navId === 3">
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('equipCol')">全选</span>
              <span
                v-for="(val, key) in equipColName"
                class="checkbox"
                :class="equipCol[key] ? 'active' : ''"
                @click="equipCol[key] = !equipCol[key]"
              >{{val}}</span>
            </div>
            <div class="box">
              <div class="box-title">筛选</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in equipFilter.rarity"
                  :class="val ? 'active' : ''"
                  @click="equipFilter.rarity[key] = !val"
                >{{key}}星</span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in equipFilter.skillType"
                  :class="val.flag ? 'active' : ''"
                  @click="checkSkillType(key)"
                >{{val.name}}</span>
                <span class="checkbox" @click="selectAll('equipFilter.skillType')">全选</span>
                <div style="margin-top: 10px;">
                  <el-switch
                    v-model="equip_radio"
                    active-color="#82a1b0"
                    active-text="单选"
                    @change="changeEquipRadio"
                    inactive-color="#ddd">
                  </el-switch>
                  <el-switch
                    v-model="equip_concurrent"
                    active-color="#82a1b0"
                    active-text="同时"
                    @change="changeEquipConcurrent"
                    inactive-color="#ddd">
                  </el-switch>
                  <el-switch
                    v-model="equipFilter.buff"
                    active-color="#82a1b0"
                    active-text="增益"
                    inactive-color="#ddd">
                  </el-switch>
                </div>
              </div>
            </div>
          </div>
          <div v-show="navId === 12">
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('amberCol')">全选</span>
              <span
                v-for="(val, key) in amberColName"
                class="checkbox"
                :class="amberCol[key] ? 'active' : ''"
                @click="amberCol[key] = !amberCol[key]"
              >{{val}}</span>
            </div>
            <div class="box">
              <div class="box-title">筛选</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in amberFilter.rarity"
                  :class="val ? 'active' : ''"
                  @click="amberFilter.rarity[key] = !val"
                >{{key}}星</span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in amberFilter.origin"
                  :class="val.flag ? 'active' : ''"
                  @click="amberFilter.origin[key].flag = !val.flag"
                >{{val.name}}</span>
              </div>
              <div class="checkbox-contain" style="padding-top: 2px;">
                <div style="padding-bottom: 6px;" v-for="(group, idx) in amberFilter.skillType">
                  <span
                    style="margin: 2px;"
                    class="checkbox"
                    v-for="(val, key) in group"
                    :class="val.flag ? 'active' : ''"
                    @click="clickAmberSkillType(idx, key)"
                  >{{val.name}}</span>
                </div>
                <span class="checkbox" @click="selectAll('amberFilter.skillType')">全选</span>
                <el-switch
                  v-model="amber_radio"
                  active-color="#82a1b0"
                  active-text="单选"
                  @change="changeAmberRadio"
                  inactive-color="#ddd">
                </el-switch>
              </div>
            </div>
          </div>
          <div v-show="navId === 10">
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('condimentCol')">全选</span>
              <span
                v-for="(val, key) in condimentColName"
                class="checkbox"
                :class="condimentCol[key] ? 'active' : ''"
                @click="condimentCol[key] = !condimentCol[key]"
              >{{val}}</span>
            </div>
            <div class="box">
              <div class="box-title">筛选</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in condimentFilter.rarity"
                  :class="val ? 'active' : ''"
                  @click="condimentFilter.rarity[key] = !val"
                >{{key}}星</span>
              </div>
              <div class="checkbox-contain">
                <span
                  class="checkbox"
                  v-for="(val, key) in condimentFilter.skillType"
                  :class="val.flag ? 'active' : ''"
                  @click="checkCondiSkillType(key)"
                >{{val.name}}</span>
                <span class="checkbox" @click="selectAll('condimentFilter.skillType')">全选</span>
                <el-switch
                  v-model="condiment_radio"
                  active-color="#82a1b0"
                  active-text="单选"
                  @change="changeCondimentRadio"
                  inactive-color="#ddd">
                </el-switch>
                <el-switch
                  v-model="condiment_concurrent"
                  active-color="#82a1b0"
                  active-text="同时"
                  @change="changeCondimentConcurrent"
                  inactive-color="#ddd">
                </el-switch>
              </div>
            </div>
          </div>
          <div v-show="navId === 4">
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('decorationCol')">全选</span>
              <span
                v-for="(val, key) in decorationColName"
                class="checkbox"
                :class="decorationCol[key] ? 'active' : ''"
                @click="decorationCol[key] = !decorationCol[key]"
              >{{val}}</span>
            </div>
            <div class="box">
              <div class="box-title">筛选</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <span class="select-box" style="width: 130px; position: relative; z-index: 1002;">
                  <muti-select
                    ref="decoTime"
                    :option="decoTime_list"
                    placeholder="选择冷却时间"
                    v-model="decorationFilter.time"
                    @focus="scroll(126)"
                  ></muti-select>
                </span>
              </div>
              <div class="checkbox-contain" style="margin-bottom: 210px;">
                <span
                  v-for="(item, i) in decorationFilter.position"
                  class="checkbox"
                  :class="item.flag ? 'active' : ''"
                  @click="checkPosition(i)"
                >{{item.name}}</span>
                <span class="checkbox" @click="selectAll('decorationFilter.position')">全选</span>
                <el-switch
                  v-model="decoration_radio"
                  active-color="#82a1b0"
                  active-text="单选"
                  @change="changeDecorationRadio"
                  inactive-color="#ddd">
                </el-switch>
              </div>
            </div>
          </div>
          <div v-show="navId === 5">
            <input class="hidden" type="checkbox">
            <div class="box">
              <div class="box-title">加成</div>
              <div class="hr"></div>
              <div class="prepend-input append-input large" style="margin-bottom: 13px;">
                <div class="input-box">
                  <div class="prepend">技能加成</div>
                  <input type="number" v-model="mapFilter.skill"/>
                  <div class="append">%</div>
                </div>
              </div>
              <br>
              <el-switch
                v-model="mapFilter.season"
                active-color="#82a1b0"
                active-text="季节加成"
                inactive-color="#ddd">
              </el-switch>
              <el-switch
                v-model="mapFilter.vip"
                active-color="#82a1b0"
                active-text="月卡"
                inactive-color="#ddd">
              </el-switch>
            </div>
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('mapCol')">全选</span>
              <span
                v-for="(val, key) in mapCol"
                class="checkbox"
                :class="val ? 'active' : ''"
                @click="mapCol[key] = !val"
              >{{mapLabel[key]}}</span>
            </div>
            <div class="box">
              <div class="box-title">过滤</div>
              <div class="hr"></div>
              <div class="checkbox-contain">
                <input class="hidden" type="checkbox">
                <div class="prepend-input large">
                  <div class="input-box">
                    <div class="prepend">采集点数</div>
                    <input type="number" v-model="mapFilter.cnt" placeholder="不限" />
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div v-show="navId === 7">
            <div class="box">
              <input class="hidden" type="checkbox">
              <div class="box-title">搜索</div>
              <div class="hr"></div>
              <el-input size="mini" class="cal-search" prefix-icon="el-icon-search" placeholder="菜名 材料 来源" v-model="calKeyword">
              </el-input>
            </div>
            <div class="box">
              <div class="box-title">展示列</div>
              <div class="hr"></div>
              <span class="checkbox" @click="selectAll('calRepCol')">全选</span>
              <span
                v-for="(val, key) in calRepCol"
                v-show="!(calType.id[0] == 0 && ['price_rule', 'price_rule'].indexOf(key) > -1) && !(calType.id[0] != 0 && ['gold_eff', 'total_time_show'].indexOf(key) > -1)"
                class="checkbox"
                :class="val ? 'active' : ''"
                @click="calRepCol[key] = !val"
              >{{calRepColName[key]}}</span>
            </div>
          </div>
          <footer v-show="isOriginHei">
            <button class="btn btn-primary" @click="rightBar = false">确定</button>
            <button class="btn btn-reset" @click="reset" v-if="navId != 5">清空过滤</button>
          </footer>
        </div>
      </el-drawer>
      <div v-if="([1, 2, 3, 4, 5, 10, 12].indexOf(navId) > -1 || (navId == 7 && calCode == 'rep')) && !hideSuspend" v-show="isOriginHei" class="suspend icon-btn" @click="rightBar = true">
        <i class="el-icon-search"></i>
      </div>
      <el-dialog
        top="160px"
        :show-close="false"
        :visible.sync="settingVisible"
        width="270px">
        <div class="input-box" v-show="navId==1">
          <span class="label">菜谱分页</span>
          <el-select size="mini" v-model="recipesPageSize" @change="handlePageSizeChange($event, 'recipes')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==2">
          <span class="label">厨师分页</span>
          <el-select size="mini" v-model="chefsPageSize" @change="handlePageSizeChange($event, 'chefs')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==3">
          <span class="label">厨具分页</span>
          <el-select size="mini" v-model="equipsPageSize" @change="handlePageSizeChange($event, 'equips')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==12">
          <span class="label">遗玉分页</span>
          <el-select size="mini" v-model="ambersPageSize" @change="handlePageSizeChange($event, 'ambers')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==10">
          <span class="label">装修分页</span>
          <el-select size="mini" v-model="condimentsPageSize" @change="handlePageSizeChange($event, 'condiments')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==4">
          <span class="label">装修分页</span>
          <el-select size="mini" v-model="decorationsPageSize" @change="handlePageSizeChange($event, 'decorations')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==6">
          <span class="label">任务分页</span>
          <el-select size="mini" v-model="questsPageSize" @change="handlePageSizeChange($event, 'quests')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="input-box" v-show="navId==7 && calCode == 'rep'">
          <span class="label">计算器菜谱分页</span>
          <el-select size="mini" style="width: 101px;" v-model="calRepsPageSize" @change="handlePageSizeChange($event, 'calReps')">
            <el-option
              v-for="item in page_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <div class="warning-tip" v-if="([1, 2, 3, 4, 6, 10, 12].indexOf(navId) > -1 || (navId == 7 && calCode == 'rep'))">除【遗玉】页不建议选所有，会卡</div>
        <div class="input-box" style="margin-bottom: 10px;">
          <span class="label">默认首页</span>
          <el-select size="mini" style="width: 101px;" v-model="userNav">
            <el-option
              v-for="item in nav_list"
              :key="item.id"
              :label="item.name"
              :value="item.id">
            </el-option>
          </el-select>
        </div>
        <span class="switch-box">
          <span>
            <el-switch
              style="display: block"
              v-model="hiddenMessage"
              active-color="#82a1b0"
              active-text="关闭厨神计算器提醒"
              inactive-color="#ddd">
            </el-switch>
          </span>
          <span>
            <el-switch
              style="display: block"
              v-model="hideSuspend"
              active-color="#82a1b0"
              active-text="筛选浮球固定在顶栏"
              inactive-color="#ddd">
            </el-switch>
          </span>
          <span>
            <el-switch
              style="display: block"
              v-model="defaultEx"
              active-color="#82a1b0"
              active-text="计算器选菜默认已专精"
              inactive-color="#ddd">
            </el-switch>
          </span>
          <span>
            <el-switch
              style="display: block"
              v-model="defaultDiskMax"
              active-color="#82a1b0"
              active-text="计算器心法盘默认满级"
              inactive-color="#ddd">
            </el-switch>
          </span>
          <span>
            <el-switch
              style="display: block"
              v-model="hiddenDisk"
              active-color="#82a1b0"
              active-text="计算器隐藏心法盘"
              inactive-color="#ddd">
            </el-switch>
          </span>
          <span>
            <el-switch
              style="display: block"
              v-model="calShowGot"
              active-color="#82a1b0"
              active-text="计算器只展示已有厨师菜谱"
              inactive-color="#ddd">
            </el-switch>
          </span>
          <span>
            <el-switch
              style="display: block"
              v-model="showDetail"
              active-color="#82a1b0"
              active-text="计算器详细模式（核对用）"
              inactive-color="#ddd">
            </el-switch>
          </span>
        </span>
        <span class="slider-box">
          <span class="slider-label">异形屏UI适配</span>
          <span class="slider">
            <el-slider v-model="extraHeight" :max="30" :show-tooltip="false"></el-slider>
          </span>
        </span>
        <!-- <span class="btn" @click="location.reload();">重新加载页面</span> -->
      </el-dialog>
      <div class="back" v-if="showBack" @click="navId = 7"><i class="el-icon-arrow-left"></i>返回</div>
      <div class="set-got" v-if="navId==1 && repCol.got" @click="setRepGot">全选</div>
      <div class="set-got" v-if="navId==2 && chefCol.got" @click="setChefGot">全选</div>
    </aside>
    <div class="extra-header"></div>
    <section class="header">
      <i class="icon-btn el-icon-s-operation" @click="leftBar = !leftBar"></i>
      <div class="notice" v-if="navId == 4 && decoBuff && decoSelectId.length > 0">{{decoBuff}}</div>
      <div class="notice" v-if="(navId == 1 || navId == 2) && partial_skill.id.length > 0 && chefUltimate">{{tips}}</div>
      <span class="right">
        <i v-if="hideSuspend && ([1, 2, 3, 4, 5, 10, 12].indexOf(navId) > -1 || (navId == 7 && calCode == 'rep'))" class="icon-btn el-icon-search" style="margin-left: 6px;" @click="rightBar = true"></i>
        <i class="icon-btn el-icon-s-tools" @click="settingVisible = true"></i>
      </span>
    </section>
    <section class="body">
      <div v-if="navId === 0" class="info-box" :style="'height: '+ boxHeight + 'px; padding: 0px;'">
        <div style="padding: 15px 10px 0 10px">
          <div class="title-box">
            <div class="img-title"><img src="./images/saltFish.png" alt="咸公主"></div>
            <div class="ng-contain">
              <h2 class="ng-title">个人爱好[白菜菊花图鉴]</h2>
              <div class="ng-author">by 小鱼、L</div>
              <div class="ng-content">欢迎使用，请点击左上角 <i class="el-icon-s-operation"></i> 键选择相应功能使用。</div>
            </div>
          </div>
          <div class="title">最近更新</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="p">2024-12-07 10:10 修复周梅丽的技法加成对所有厨师生效的bug。</div>
            <div class="p">2024-12-06 12:50 修复【场上*类技法菜谱基础售价】效果变成普通售价的bug。</div>
            <div class="p">2024-11-30 01:40 更新雷恩、解鲁的修炼技能。</div>
          </div>
          <div class="title">常见问题</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="p">
              <p>Q: iOS有APP吗，APP在哪里下载？<br/></p>
              <p>A: iOS没有APP；<br/>
                安卓下载地址（APP框架很老了还是建议用网页版，夸克浏览器效果比较好）：<a href="https://wws.lanzouy.com/i3vs205msk0b">点击下载，密码：bcjh</a>
              </p>
            </div>
            <div class="p">
              <p>Q: 手机是挖孔屏/刘海屏遮住了按键怎么办？<br/></p>
              <p>A: 点击右上角的 <i class="el-icon-s-tools"></i>，手动调整<span class="code">异形屏UI适配</span>。</p>
            </div>
            <div class="p">
              <p>Q: 我的计算器里为什么没有厨子、菜谱可以选？<br/></p>
              <p>A: 点击右上角的 <i class="el-icon-s-tools"></i>，关掉<span class="code">计算器仅展示已有厨师菜谱</span></p>
            </div>
            <div class="p">
              <p>Q: 我要怎么把我有的菜谱、厨师导入到图鉴里呢？<br/></p>
              <p>A: 游戏内点击左上角昵称，然后点击<span class="code">设置</span>-<span class="code">白菜菊花</span>获取校验码，然后将校验码填入本图鉴的【个人】页，使用<span class="code">官方数据导入</span>功能导入即可
            </div>
            <div class="p">
              <p>Q: 为什么我计算器算出来的分数和游戏里不一样？<br/></p>
              <p>A: 没有用<span class="code">规则未知</span><span class="code">倍数可能不对</span>菜谱的前提下：</p>
              <div style="padding-left: 20px;">
                <p>1.点击右上角的 <i class="el-icon-s-tools"></i>，点开<span class="code">计算器详细模式；</span></p>
                <p>2.把每个菜谱的<span class="code">原始分</span>与厨神结算页每个菜谱框框里的分数比对；</p>
                <p>3.如果有不同的，检查厨师修炼、菜谱专精是不是填正确了，菜谱份数是否一致；</p>
                <p>4.如果都原始分都一致，但总分不同，带图找我反馈（游戏厨神结算截图和计算器详细模式截图），反馈方式见下面【建议/需求】。</p>
              </div>
            </div>
            <div class="p">
              <p>Q: 计算器可以一个厨子只给两个菜调料吗？<br/></p>
              <p>A: 装备调料之后，选择菜谱，可以单独设置每道菜是否<span class="code">加料</span>。</p>
            </div>
            <div class="p">
              <p>Q: 怎么让计算器全自动算分？<br/></p>
              <p>A: 鱼菜，做不了，告辞。</p>
            </div>
            <div class="title">建议/需求</div>
            <div class="hr"></div>
            <div class="box-body">
              <div class="p">任意官群/贴吧二群找@游啊游啊小小鱼，或联系任意官群管理转达（但鱼懒又菜不一定做！）。</div>
            </div>
            <div v-if="host.indexOf('bcjh.xyz') > -1" class="p" style="text-align: center;"><a href="http://beian.miit.gov.cn">陕ICP备2020018104号-1</a></div>
          </div>
        </div>
      </div>
      <div v-show="navId === 1">
        <div class="search-box">
          <el-row>
            <el-col :span="13">
              <el-input class="left" size="small" prefix-icon="el-icon-search" placeholder="菜名 材料 贵客 符文 来源" v-model="repKeyword">
              </el-input>
            </el-col>
            <el-col :span="11">
              <el-input size="small" prefix-icon="el-icon-search" placeholder="升阶贵客 神级符文" v-model="guestKeyword">
              </el-input>
            </el-col>
          </el-row>
        </div>
        <el-table
          :data="recipesPage"
          style="width: 100%"
          ref='recipesTable'
          @sort-change="handleRepSort"
          v-if="tableShow"
          :height="tableHeight">
          <el-table-column fixed sortable="custom" prop="galleryId" label="No." width="55" v-if="repCol.id"></el-table-column>
          <el-table-column fixed label="" width="50" v-if="repCol.img">
            <template slot-scope="scope">
              <div class="icon-recipe" :class="'recipe_' + scope.row.recipeId"></div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="name" label="菜谱名" width="80"></el-table-column>
          <el-table-column sortable="custom" prop="rarity_show" label="星" min-width="80" v-if="repCol.rarity"></el-table-column>
          <el-table-column prop="skills_show" label="技法" min-width="90" v-if="repCol.skills_sim"></el-table-column>
          <el-table-column sortable="custom" prop="stirfry" label="炒" min-width="48" v-if="repCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="boil" label="煮" min-width="48" v-if="repCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="knife" label="切" min-width="48" v-if="repCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="fry" label="炸" min-width="48" v-if="repCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="bake" label="烤" min-width="48" v-if="repCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="steam" label="蒸" min-width="48" v-if="repCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="condiment_show" label="调料" min-width="64" v-if="repCol.condiment"></el-table-column>
          <el-table-column sortable="custom" prop="materials_show" label="材料" min-width="130" v-if="repCol.materials"></el-table-column>
          <el-table-column sortable="custom" prop="price" min-width="64" label="单价" v-if="repCol.price"></el-table-column>
          <el-table-column sortable="custom" prop="exPriceLast" min-width="64" label="熟练" v-if="repCol.exPrice"></el-table-column>
          <el-table-column sortable="custom" prop="exCount1" min-width="110" label="熟练份数[可]" v-if="exGap.id[0] == 1"></el-table-column>
          <el-table-column sortable="custom" prop="exCount2" min-width="110" label="熟练份数[优]" v-if="exGap.id[0] == 2"></el-table-column>
          <el-table-column sortable="custom" prop="exCount3" min-width="110" label="熟练份数[特]" v-if="exGap.id[0] == 3"></el-table-column>
          <el-table-column sortable="custom" prop="exCount4" min-width="110" label="熟练份数[神]" v-if="exGap.id[0] == 4"></el-table-column>
          <el-table-column sortable="custom" prop="exCount5" min-width="110" label="熟练份数[传]" v-if="exGap.id[0] == 5"></el-table-column>
          <el-table-column sortable="custom" prop="exTimeShow1" min-width="110" label="熟练时间[可]" v-if="exGap.id[0] == 1"></el-table-column>
          <el-table-column sortable="custom" prop="exTimeShow2" min-width="110" label="熟练时间[优]" v-if="exGap.id[0] == 2"></el-table-column>
          <el-table-column sortable="custom" prop="exTimeShow3" min-width="110" label="熟练时间[特]" v-if="exGap.id[0] == 3"></el-table-column>
          <el-table-column sortable="custom" prop="exTimeShow4" min-width="110" label="熟练时间[神]" v-if="exGap.id[0] == 4"></el-table-column>
          <el-table-column sortable="custom" prop="exTimeShow5" min-width="110" label="熟练时间[传]" v-if="exGap.id[0] == 5"></el-table-column>
          <el-table-column sortable="custom" prop="time_show" min-width="76" label="单时间" v-if="repCol.time"></el-table-column>
          <el-table-column sortable="custom" prop="limit" min-width="63" label="一组" v-if="repCol.limit"></el-table-column>
          <el-table-column sortable="custom" prop="total_price" min-width="63" label="总价" v-if="repCol.total_price"></el-table-column>
          <el-table-column sortable="custom" prop="total_time_show" min-width="100" label="总时间" v-if="repCol.total_time_show"></el-table-column>
          <el-table-column sortable="custom" prop="gold_eff" label="金币/h" min-width="79" v-if="repCol.gold_eff"></el-table-column>
          <el-table-column sortable="custom" prop="material_eff" label="耗材/h" min-width="79" v-if="repCol.material_eff"></el-table-column>
          <el-table-column sortable="custom" prop="condi_eff" label="调料/h" min-width="79" v-if="repCol.condi_eff"></el-table-column>
          <el-table-column sortable="custom" prop="origin" label="来源" min-width="90" v-if="repCol.origin"></el-table-column>
          <el-table-column sortable="custom" prop="unlock" label="可解锁" v-if="repCol.unlock"></el-table-column>
          <el-table-column sortable="custom" prop="combo" min-width="80" label="可合成" v-if="repCol.combo"></el-table-column>
          <el-table-column sortable="custom" prop="normal_guests" min-width="125" label="贵客" v-if="repCol.guests"></el-table-column>
          <el-table-column sortable="custom" prop="degree_guests" label="升阶贵客" min-width="110" v-if="repCol.degree_guests"></el-table-column>
          <el-table-column sortable="custom" prop="invitation_guests" label="宴会贵客" min-width="110" v-if="repCol.invitation_guests"></el-table-column>
          <el-table-column sortable="custom" prop="gift" label="神级符文" min-width="92" v-if="repCol.gift"></el-table-column>
          <el-table-column sortable="custom" prop="got" label="已有" min-width="68" v-if="repCol.got">
            <template slot-scope="scope">
              <div @click.stop="return;" v-if="repCol.got">
                <el-checkbox v-model="scope.row.checked" @change="changeGot($event, 'repGot', scope.row.recipeId)"></el-checkbox>
              </div>
            </template>
          </el-table-column>
          <el-table-column sortable="custom" v-for="item in repFilter.materialEff.row" :prop="'materialEff_' + item.id" :label="item.name" min-width="92"></el-table-column>
          <div v-for="item in repChef.row">
            <el-table-column sortable="custom" :prop="'chef_grade_' + item.id" :label="item.name" :min-width="nameMinWidth(item.name)"></el-table-column>
            <el-table-column sortable="custom" :prop="'chef_eff_' + item.id" label="效率" min-width="65"></el-table-column>
            <el-table-column sortable="custom" :prop="'chef_diff_' + item.id" label="神差值" min-width="75" v-if="repSkillGap"></el-table-column>
          </div>
          <el-table-column label="" min-width="1"></el-table-column>
        </el-table>
        <div class="pagination">
          <el-pagination
            background
            small
            :page-size="recipesPageSize"
            :current-page.sync="recipesCurPage"
            @current-change="handleCurrentChange"
            :pager-count="5"
            layout="total, prev, pager, next"
            :total="recipes.length">
          </el-pagination>
        </div>
      </div>
      <div v-show="navId === 2">
        <div class="search-box">
          <el-input size="small" prefix-icon="el-icon-search" placeholder="名字 技能 修炼技能 来源" v-model="chefFilter.chefKeyword">
          </el-input>
        </div>
        <el-table
          :data="chefsPage"
          style="width: 100%"
          ref='chefsTable'
          @sort-change="handleChefSort"
          v-if="tableShow"
          :height="tableHeight">
          <el-table-column fixed sortable="custom" prop="galleryId" label="No." width="55" v-if="chefCol.id"></el-table-column>
          <el-table-column fixed label="" width="60" v-if="chefCol.img">
            <template slot-scope="scope">
              <div class="icon-chef" :class="'chef_' + scope.row.chefId"></div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="name" label="名字" width="67"></el-table-column>
          <el-table-column sortable="custom" prop="rarity_show" label="星" min-width="80" v-if="chefCol.rarity"></el-table-column>
          <el-table-column sortable="custom" :prop="showLastSkill ? 'Stirfry_last' : 'Stirfry_show'" label="炒" :min-width="skillWidth" v-if="chefCol.skills"></el-table-column>
          <el-table-column sortable="custom" :prop="showLastSkill ? 'Boil_last' : 'Boil_show'" label="煮" :min-width="skillWidth" v-if="chefCol.skills"></el-table-column>
          <el-table-column sortable="custom" :prop="showLastSkill ? 'Knife_last' : 'Knife_show'" label="切" :min-width="skillWidth" v-if="chefCol.skills"></el-table-column>
          <el-table-column sortable="custom" :prop="showLastSkill ? 'Fry_last' : 'Fry_show'" label="炸" :min-width="skillWidth" v-if="chefCol.skills"></el-table-column>
          <el-table-column sortable="custom" :prop="showLastSkill ? 'Bake_last' : 'Bake_show'" label="烤" :min-width="skillWidth" v-if="chefCol.skills"></el-table-column>
          <el-table-column sortable="custom" :prop="showLastSkill ? 'Steam_last' : 'Steam_show'" label="蒸" :min-width="skillWidth" v-if="chefCol.skills"></el-table-column>
          <el-table-column sortable="custom" prop="skill" label="技能" min-width="130" v-if="chefCol.skill"></el-table-column>
          <el-table-column sortable="custom" prop="meat" label="肉" min-width="48" v-if="chefCol.gather"></el-table-column>
          <el-table-column sortable="custom" prop="creation" label="面" min-width="48" v-if="chefCol.gather"></el-table-column>
          <el-table-column sortable="custom" prop="veg" label="菜" min-width="48" v-if="chefCol.gather"></el-table-column>
          <el-table-column sortable="custom" prop="fish" label="鱼" min-width="48" v-if="chefCol.gather"></el-table-column>
          <el-table-column sortable="custom" prop="condiment_show" label="调料" min-width="64" v-if="chefCol.condiment"></el-table-column>
          <el-table-column sortable="custom" prop="sex" min-width="64" label="性别" v-if="chefCol.sex"></el-table-column>
          <el-table-column sortable="custom" prop="origin" label="来源" min-width="100" v-if="chefCol.origin"></el-table-column>
          <el-table-column sortable="custom" prop="ultimateGoal" label="修炼任务" min-width="150" v-if="chefCol.ultimateGoal"></el-table-column>
          <el-table-column sortable="custom" prop="ultimateSkillShow" label="修炼技能" min-width="130" v-if="chefCol.ultimateSkill"></el-table-column>
          <el-table-column sortable="custom" prop="got" label="已有" min-width="68" v-if="chefCol.got">
              <template slot-scope="scope">
                <div @click.stop="return;" v-if="chefCol.got">
                  <el-checkbox v-model="scope.row.checked" @change="changeGot($event, 'chefGot', scope.row.chefId)"></el-checkbox>
                </div>
              </template>
            </el-table-column>
          <div v-for="item in chefRep.row">
            <el-table-column sortable="custom" :prop="'rep_grade_' + item.id" :label="item.name" :min-width="nameMinWidth(item.name)"></el-table-column>
            <el-table-column sortable="custom" :prop="'rep_eff_' + item.id" label="效率" min-width="65"></el-table-column>
            <el-table-column sortable="custom" :prop="'rep_diff_2_' + item.id" label="优差值" min-width="75" v-if="chefSkillGap.id[0]==2"></el-table-column>
            <el-table-column sortable="custom" :prop="'rep_diff_3_' + item.id" label="特差值" min-width="75" v-if="chefSkillGap.id[0]==3"></el-table-column>
            <el-table-column sortable="custom" :prop="'rep_diff_4_' + item.id" label="神差值" min-width="75" v-if="chefSkillGap.id[0]==4"></el-table-column>
            <el-table-column sortable="custom" :prop="'rep_diff_5_' + item.id" label="传差值" min-width="75" v-if="chefSkillGap.id[0]==5"></el-table-column>
          </div>
          <el-table-column label="" min-width="1"></el-table-column>
        </el-table>
        <div class="pagination">
          <el-pagination
            background
            small
            :page-size="chefsPageSize"
            :current-page.sync="chefsCurPage"
            @current-change="handleCurrentChange"
            :pager-count="5"
            layout="total, prev, pager, next"
            :total="chefs.length">
          </el-pagination>
        </div>
      </div>
      <div v-show="navId === 3">
        <div class="search-box">
          <el-input size="small" prefix-icon="el-icon-search" placeholder="名字 技能 来源" v-model="equipFilter.equipKeyword">
          </el-input>
        </div>
        <el-table
          :data="equipsPage"
          style="width: 100%"
          ref='equipsTable'
          @sort-change="handleEquipSort"
          v-if="tableShow"
          :height="tableHeight">
          <el-table-column fixed sortable="custom" prop="galleryId" label="No." width="55" v-if="equipCol.id"></el-table-column>
          <el-table-column fixed label="" width="45" v-if="equipCol.img">
            <template slot-scope="scope">
              <div class="icon-equip" :class="'equip_' + scope.row.equipId"></div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="name" label="名字" width="80"></el-table-column>
          <el-table-column sortable="custom" prop="rarity_show" label="星" min-width="55" v-if="equipCol.rarity"></el-table-column>
          <el-table-column sortable="custom" prop="skill" label="技能" min-width="155" v-if="equipCol.skill"></el-table-column>
          <el-table-column sortable="custom" prop="origin" label="来源" min-width="100" v-if="equipCol.origin"></el-table-column>
          <el-table-column label="" min-width="1"></el-table-column>
        </el-table>
        <div class="pagination">
          <el-pagination
            background
            small
            :page-size="equipsPageSize"
            :current-page.sync="equipsCurPage"
            @current-change="handleCurrentChange"
            :pager-count="5"
            layout="total, prev, pager, next"
            :total="equips.length">
          </el-pagination>
        </div>
      </div>
      <div v-show="navId === 12">
        <div class="search-box">
          <el-input size="small" prefix-icon="el-icon-search" placeholder="名字 技能 来源" v-model="amberFilter.amberKeyword">
          </el-input>
        </div>
        <el-table
          :data="ambersPage"
          style="width: 100%"
          ref='ambersTable'
          @sort-change="handleAmberSort"
          v-if="tableShow"
          :height="tableHeight">
          <el-table-column fixed sortable="custom" prop="galleryId" label="No." width="55" v-if="amberCol.id"></el-table-column>
          <el-table-column fixed label="" width="45" v-if="amberCol.img">
            <template slot-scope="scope">
              <div class="icon-amber" :class="'amber_' + scope.row.amberId"></div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="name" label="名字" width="80"></el-table-column>
          <el-table-column sortable="custom" prop="rarity_show" label="星" min-width="55" v-if="amberCol.rarity"></el-table-column>
          <el-table-column sortable="custom" prop="color" label="颜色" min-width="55" v-if="amberCol.color"></el-table-column>
          <el-table-column sortable="custom" prop="skill" label="技能" min-width="155" v-if="amberCol.skill"></el-table-column>
          <el-table-column sortable="custom" prop="amplification" label="成长" min-width="55" v-if="amberCol.amplification"></el-table-column>
          <el-table-column sortable="custom" prop="skill_detail" label="详细技能" min-width="155" v-if="amberCol.skillDetail"></el-table-column>
          <el-table-column sortable="custom" prop="origin" label="来源" min-width="100" v-if="amberCol.origin"></el-table-column>
          <el-table-column label="" min-width="1"></el-table-column>
        </el-table>
        <div class="pagination">
          <el-pagination
            background
            small
            :page-size="ambersPageSize"
            :current-page.sync="ambersCurPage"
            @current-change="handleCurrentChange"
            :pager-count="5"
            layout="total, prev, pager, next"
            :total="ambers.length">
          </el-pagination>
        </div>
      </div>
      <div v-show="navId === 4">
        <div class="search-box">
          <el-row>
            <el-col :span="4">
              <span class="button" @click="empty">
                清空<i class="el-icon-delete el-icon--right"></i>
              </span>
            </el-col>
            <el-col :span="8">
              <el-select placeholder="选择套装" @change="selectSuit" size="small" class="left right">
                <el-option
                  v-for="(item, i) in suits"
                  :key="i"
                  :label="item"
                  :value="item">
                </el-option>
              </el-select>
            </el-col>
            <el-col :span="12">
              <el-input size="small" prefix-icon="el-icon-search" placeholder="名字 套装 来源" v-model="decorationFilter.keyword">
              </el-input>
            </el-col>
          </el-row>
        </div>
        <el-table
          :data="decorationsPage"
          style="width: 100%"
          ref='decorationsTable'
          @sort-change="handleDecorationSort"
          :default-sort = "{ prop: 'effAvg', order: 'descending' }"
          highlight-current-row
          @row-click = "checkRow"
          v-if="tableShow"
          :height="tableHeight">
          <el-table-column fixed sortable="custom" prop="checkbox" width="35" v-if="decorationCol.checkbox">
            <template slot-scope="scope">
              <div @click.stop="return;">
                <el-checkbox v-model="scope.row.checked" @change="handleSelectionChange($event, scope.row)"></el-checkbox>
              </div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="id" label="No." width="55" v-if="decorationCol.id"></el-table-column>
          <el-table-column fixed label="" width="49" v-if="decorationCol.img">
            <template slot-scope="scope">
              <div style="zoom: 0.6;" class="icon-decoration" :class="'decoration_' + scope.row.icon"></div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="name" label="名字" width="80"></el-table-column>
          <el-table-column sortable="custom" prop="gold_show" label="加成" min-width="64" v-if="decorationCol.gold"></el-table-column>
          <el-table-column sortable="custom" prop="tipMin" label="最小玉" min-width="78" v-if="decorationCol.tipMin"></el-table-column>
          <el-table-column sortable="custom" prop="tipMax" label="最大玉" min-width="78" v-if="decorationCol.tipMax"></el-table-column>
          <el-table-column sortable="custom" prop="tipTime_show" label="冷却" min-width="78" v-if="decorationCol.tipTime"></el-table-column>
          <el-table-column sortable="custom" prop="effMin" label="最小玉/天" min-width="95" v-if="decorationCol.effMin"></el-table-column>
          <el-table-column sortable="custom" prop="effMax" label="最大玉/天" min-width="95" v-if="decorationCol.effMax"></el-table-column>
          <el-table-column sortable="custom" prop="effAvg" label="平均玉/天" min-width="95" v-if="decorationCol.effAvg"></el-table-column>
          <el-table-column sortable="custom" prop="position" label="位置" min-width="64" v-if="decorationCol.position"></el-table-column>
          <el-table-column sortable="custom" prop="suit" label="套装" min-width="90" v-if="decorationCol.suit"></el-table-column>
          <el-table-column sortable="custom" prop="suitGold_show" label="套装加成" min-width="90" v-if="decorationCol.suitGold"></el-table-column>
          <el-table-column sortable="custom" prop="origin" label="来源" min-width="100" v-if="decorationCol.origin"></el-table-column>
          <el-table-column label="" min-width="1"></el-table-column>
        </el-table>
        <div class="pagination">
          <el-pagination
            background
            small
            :page-size="decorationsPageSize"
            :current-page.sync="decorationsCurPage"
            @current-change="handleCurrentChange"
            :pager-count="5"
            layout="total, prev, pager, next"
            :total="decorations.length">
          </el-pagination>
        </div>
      </div>
      <div v-show="navId === 5">
        <div :style="'height: '+ boxHeight + 'px;'">
          <div class="search-box">
            <el-row>
              <el-col :span="6">
                <el-select v-model="mapType" size="small" class="left">
                  <el-option
                    v-for="(item, index) in mapTypes"
                    :key="index"
                    :label="item"
                    :value="item">
                  </el-option>
                </el-select>
              </el-col>
              <el-col :span="10">
                <el-input placeholder="技能加成(%)" v-model="mapFilter.skill" size="small" class="left">
                </el-input>
              </el-col>
              <el-col :span="8">
                <el-switch
                  v-model="mapFilter.season"
                  active-color="#82a1b0"
                  active-text="季节加成"
                  inactive-color="#ddd">
                </el-switch>
              </el-col>
            </el-row>
          </div>
          <el-table
            class="sum"
            :data="mapsPage"
            style="width: 100%"
            ref="mapsTable"
            >
            <el-table-column fixed prop="name" width='55' label="食材"></el-table-column>
            <el-table-column prop="skill" min-width='50' label="点数"></el-table-column>
            <el-table-column align="center" prop="0" min-width='78' v-if="mapCol[0]" :label="`${mapLabel[0]}`"></el-table-column>
            <el-table-column align="center" prop="1" min-width='78' v-if="mapCol[1]" :label="`${mapLabel[1]}`"></el-table-column>
            <el-table-column align="center" prop="2" min-width='95' v-if="mapCol[2]" :label="`${mapLabel[2]}`"></el-table-column>
            <el-table-column align="center" prop="3" min-width='95' v-if="mapCol[3]" :label="`${mapLabel[3]}`"></el-table-column>
            <el-table-column align="center" prop="4" min-width='95' v-if="mapCol[4]" :label="`${mapLabel[4]}`"></el-table-column>
          </el-table>
          <div id="chart" :style="`width: ${chartWidth}px; height: ${chartHeight}px;`"></div>
        </div>
      </div>
      <div v-show="navId === 6">
        <div class="search-box">
          <el-input size="small" prefix-icon="el-icon-search" placeholder="编号 任务 奖励" v-model="questsKeyword" class="input-with-select">
            <el-select slot="prepend" v-model="questsType" placeholder="请选择任务类型" size="small">
              <el-option
                v-for="item in questsTypes"
                :key="item.value"
                :label="item.label"
                :value="item.value">
              </el-option>
            </el-select>
          </el-input>
        </div>
        <el-table
          :data="questsPage"
          style="width: 100%"
          v-if="tableShow"
          :height="tableHeight"
          @sort-change="handleQuestsSort"
          ref="questsTable"
          >
          <el-table-column prop="questIdDisp" label="No." width="63" sortable='custom'></el-table-column>
          <el-table-column prop="preId" label="前置" width="50" v-if="questsType === 2"></el-table-column>
          <el-table-column prop="goal" label="任务"></el-table-column>
          <el-table-column prop="rewards_show" label="奖励" width="110"></el-table-column>
        </el-table>
      <div class="pagination">
        <el-pagination
          background
          small
          :page-size="questsPageSize"
          :current-page.sync="questsCurPage"
          @current-change="handleCurrentChange"
          :pager-count="5"
          layout="total, prev, pager, next"
          :total="questsType === 1 ? questsMain.length : (questsType === 2 ? questsRegional.length : questsRegionalNew.length)">
        </el-pagination>
      </div>
      </div>
      <div v-show="navId === 10">
        <div class="search-box">
          <el-input size="small" prefix-icon="el-icon-search" placeholder="名字 技能 来源" v-model="condimentFilter.condimentKeyword">
          </el-input>
        </div>
        <el-table
          :data="condimentsPage"
          style="width: 100%"
          ref='condimentsTable'
          @sort-change="handleCondimentSort"
          v-if="tableShow"
          :height="tableHeight">
          <el-table-column fixed sortable="custom" prop="condimentId" label="No." width="55" v-if="condimentCol.id"></el-table-column>
          <el-table-column fixed label="" width="45" v-if="condimentCol.img">
            <template slot-scope="scope">
              <div class="icon-condiment" :class="'condiment_' + scope.row.condimentId"></div>
            </template>
          </el-table-column>
          <el-table-column fixed sortable="custom" prop="name" label="名字" width="65"></el-table-column>
          <el-table-column sortable="custom" prop="rarity_show" label="星" min-width="55" v-if="condimentCol.rarity"></el-table-column>
          <el-table-column sortable="custom" prop="skill" label="技能" min-width="155" v-if="condimentCol.skill"></el-table-column>
          <el-table-column sortable="custom" prop="origin" label="来源" min-width="100" v-if="condimentCol.origin"></el-table-column>
          <el-table-column label="" min-width="1"></el-table-column>
        </el-table>
        <div class="pagination">
          <el-pagination
            background
            small
            :page-size="condimentsPageSize"
            :current-page.sync="condimentsCurPage"
            @current-change="handleCurrentChange"
            :pager-count="5"
            layout="total, prev, pager, next"
            :total="condiments.length">
          </el-pagination>
        </div>
      </div>
      <div v-show="navId === 7">
        <div class="cal-box">
          <div class="tab-box" v-if="tabBox">
            <el-tabs v-model="calCode">
              <el-tab-pane label="计算器" name="cal"></el-tab-pane>
              <el-tab-pane label="菜谱" name="rep"></el-tab-pane>
              <el-tab-pane label="历史计算器" name="etc_cal"></el-tab-pane>
            </el-tabs>
          </div>
          <div class="cal" v-show="calCode == 'cal'" :style="'height: '+ (boxHeight - 50) + 'px;'">
            <div class="ctl-box">
              <span class="select-box" class="cal-type" style="width: 158px;">
                <muti-select
                  ref="calType"
                  :option="rules"
                  v-model="calType"
                  :max="1"
                  :empty="false"
                ></muti-select>
              </span>
              <span class="btn load" @click="initCal" v-show="calLoad">加载</span>
              <span class="btn" @click="goToConfig" v-show="!calLoad">个人</span>
              <el-select
                size="mini"
                v-if="!calHidden"
                v-model="calSort"
                @change="changeSort"
                :disabled="calType.id[0] != 0 || calLoad"
              >
                <el-option
                  v-for="item in calSort_list"
                  :key="item.id"
                  :label="item.name"
                  :value="item.id">
                </el-option>
              </el-select>
            </div>
            <div v-if="!calHidden">
              <div class="tips">{{buffTips}}</div>
              <div class="cal-contain" v-if="calType.row[0]">
                <div ref="chefBox" class="chef-box" v-for="chef in [1, 2, 3]" :class="chef > ChefNumLimit ? 'disable' : ''">
                  <div
                    class="chef"
                    :class="
                      (calFocus == `Chef_${chef}` ? 'focus' : '') +
                      (showCondiment ? ' condiment' : '')
                    "
                    @click="calCheck(`Chef_${chef}`)"
                  >
                    <div v-if="calChef[chef].row[0]" class="show">
                      <div class="show-chef">
                        <div class="name-img">
                          <span class="name">{{calChefShow[chef].name}}</span>
                          <div class="img icon-chef" :class="'chef_' + calChefShow[chef].id">
                            <span v-show="calChefShow[chef].ultimate" class="ultimate">满</span>
                          </div>
                          <div class="show-disk" v-show="!hiddenDisk">
                            <div class="disk-level"><div>{{calDiskLevel[chef].current}}</div></div>
                            <div
                              class="disk-amber"
                              :class="(calAmber[chef][idx] && calAmber[chef][idx].id[0] ? 'active ' : '') + 'amber-' + type"
                              v-for="(type, idx) in calChef[chef].row[0].disk.info">
                              <div>
                                <i class="el-icon-plus"></i>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="skill-box">
                          <div
                            v-for="(val, key) in calChefShow[chef].skills_last"
                            v-show="val"
                          >
                            <span class="label">{{skill_map[key]}}</span>
                            <span class="val">{{val}}</span>
                          </div>
                        </div>
                      </div>
                      <div v-if="calCondiment[chef].row[0]" class="show-condiment">
                        <span>{{calCondiment[chef].row[0].name}}</span>
                        <span class="condi-cnt">× {{condiCnt[chef]}}</span>
                      </div>
                    </div>

                    <div class="chef-empty" v-else>
                      <i class="el-icon-plus"></i>
                      <span>选择厨师&调料</span>
                    </div>
                  </div>
                  <div
                    class="equip"
                    :class="calFocus == `Equip_${chef}` ? 'focus' : ''"
                    @click="calCheck(`Equip_${chef}`)"
                  >
                    <div class="show" v-if="calEquip[chef].row[0]">
                      <span class="name">{{calEquip[chef].row[0].name}}</span>
                    </div>
                    <div class="equip-empty" v-else>
                      <i class="el-icon-plus"></i>
                    </div>
                  </div>
                  <div class="rep-box">
                    <div
                      class="rep"
                      v-for="rep in [1, 2, 3]"
                      :class="(calFocus == `Rep_${chef}-${rep}` ? 'focus ' : '') + (showDetail ? 'long' : '')"
                      @click="calCheck(`Rep_${chef}-${rep}`)"
                    >
                      <div v-if="calRep[`${chef}-${rep}`].row[0]" class="show">
                        <div class="img icon-recipe" :class="'recipe_' + calRep[`${chef}-${rep}`].row[0].id">
                          <span class="cnt">{{showRepCnt(calRepCnt[`${chef}-${rep}`], calRepLimit[`${chef}-${rep}`])}}</span>
                          <span class="expert" v-if="calRepEx[`${chef}-${rep}`]">
                            <i class="el-icon-success"></i>
                          </span>
                          <!-- <span class="is-combo" v-if="calRep[`${chef}-${rep}`].row[0].isCombo">
                            合
                          </span> -->
                        </div>
                        <div class="rep-detail" v-if='showDetail'>
                          ${{calRepShow[chef-1][rep-1].price}}
                        </div>
                      </div>
                      <div class="rep-empty" v-else>
                        <i class="el-icon-plus"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div ref="tool" class="tool" v-show="calFocus">
                <div v-for="(val, key) in calChef" v-show="calFocus == `Chef_${key}`">
                  <span class="select-box chef-select">
                    <muti-select
                      :ref="`calChef_${key}`"
                      placeholder="请选择厨师"
                      :option="calChefs[key]"
                      v-model="calChef[key]"
                      :max="1"
                      :disable="disable"
                      @change="setDiskList(key)"
                      @focus="calScroll"
                      @click="getRecommend('chef', key)"
                    ></muti-select>
                  </span>
                  <span class="select-box chef-select" style="padding-left: 0; ">
                    <muti-select
                      :ref="`calCondiment_${key}`"
                      placeholder="请选择调料"
                      :option="calCondiments[key]"
                      v-model="calCondiment[key]"
                      :max="1"
                      :disable="disable"
                      @focus="calScroll"
                      @click="getRecommend('condi', key)"
                    ></muti-select>
                  </span>
                  <div v-show="calChef[key]" class="disk">
                    <div class="prepend-input">
                      <div class="input-box">
                        <div class="prepend">心法</div>
                        <input type="number" @change="handleDiskLevelChange(key)" v-model.lazy="calDiskLevel[key].current"/>
                      </div>
                    </div>
                    <div class="amber-list-box">
                      <span class="select-box" v-for="(amber, idx) in calAmberList[key]">
                        <muti-select
                          :class="'amber-list-' + amber[0].type"
                          :ref="`calAmber_${key}_${idx}`"
                          placeholder="选择遗玉"
                          :option="amber"
                          v-model="calAmber[key][idx]"
                          @change="handleCalAmberChange(key, idx)"
                          :max="1"
                          :disable="disable"
                          @focus="calScroll"
                          @click="getRecommend('amber', key, idx)"
                        ></muti-select>
                      </span>
                    </div>
                  </div>
                </div>
                <div v-for="(val, key) in calEquip" v-show="calFocus == `Equip_${key}`">
                  <span class="select-box" style="width: calc(100% - 10px);">
                    <muti-select
                      :ref="`calEquip_${key}`"
                      placeholder="请选择厨具"
                      :option="calEquips[key]"
                      v-model="calEquip[key]"
                      :max="1"
                      @focus="calScroll"
                      @click="getRecommend('equip', key)"
                    ></muti-select>
                  </span>
                </div>
                <div v-for="(val, key) in calRep" v-show="calFocus == `Rep_${key}`" class="tool-rep">
                  <div>
                    <span class="select-box" style="width: calc(100% - 10px);" v-show="!calRep[key].row[0]">
                      <muti-select
                        :ref="`calRep_${key}`"
                        placeholder="请选择菜谱"
                        :option="calReps_list[key.slice(0, 1)]"
                        v-model="calRep[key]"
                        :max="1"
                        :disable="disableRep"
                        @change="handleCalRepChange($event, key)"
                        @focus="calScroll"
                      ></muti-select>
                    </span>
                    <div v-if="calRep[key].row[0]" class="material-box">
                      <span v-for="item in calRep[key].row[0].materials" class="material">
                        <span class="label">{{item.name}}</span>
                        <span class="quantity" v-show="calType.row[0].MaterialsLimit">{{materialsRemain[item.material] + '/' + (item.quantity_chef || item.quantity)}}</span>
                        <span class="quantity" v-show="!calType.row[0].MaterialsLimit">{{(item.quantity_chef || item.quantity) * calRepCnt[key]}}</span>
                      </span>
                    </div>
                    <div v-if="calRep[key].row[0]" class="control">
                      <el-switch
                        v-model="calRepEx[key]"
                        active-color="#82a1b0"
                        active-text="专精"
                        inactive-color="#ddd">
                      </el-switch>
                      <input
                        type="number"
                        class="input"
                        v-model.lazy="calRepCnt[key]"
                        :max="calRepLimit[key]"
                        :min="0"
                        @change="handleRepCntChange(key, calRepLimit[key])"
                      />
                      <span class="max">/ {{calRepLimit[key]}}</span>
                    </div>
                  </div>
                  <div class="tool-condiment" v-if="calRep[key].row[0] && calChef[key.split('-')[0]].row[0] && calCondiment[key.split('-')[0]].row[0]">
                    <span>{{calCondiment[key.split('-')[0]].row[0].name}}</span>
                    <span class="cnt">×{{calRep[key].row[0].rarity * calRepCnt[key]}}</span>
                    <el-switch
                      v-model="calRepCondi[key]"
                      active-color="#82a1b0"
                      active-text="加料"
                      inactive-color="#ddd">
                    </el-switch>
                  </div>
                </div>
              </div>
              <div class="total-result">
                <span class="line-tips">{{lineTips}}</span>
                <span>{{calResultTotal}}</span>
              </div>
              <div class="result">
                <div
                  class="rst-box"
                  v-for="(arr, i) in calRepShow"
                  :class="(calType.id[0] == 0 || showDetail) && !calLoad ? 'long ' : ''"
                >
                  <div class="rst" v-for="(item, j) in arr">
                    <div class="show" v-if="item.id">
                      <span class="name" :class="item.unknowBuff || item.NotSure ? 'red' : ''">{{item.name + (calRepCondi[`${i+1}-${j+1}`] && calCondiment[i+1].row[0] ? '[料]' : '')}}</span>
                      <div class="top" :class="!item.showBuff ? 'center' : ''">
                        <div class="top-left">
                          <div class="img-box">
                            <div class="img icon-recipe" :class="'recipe_' + item.id"></div>
                            <span class="grade" :class="'grade-' + item.grade" v-show="item.grade > 0">
                              {{item.grade_show}}
                            </span>
                            <span class="condiment">
                              {{item.condiment_show}}
                            </span>
                            <div class="skill-box">
                              <div class="skill" v-for="(val, key) in item.skills">
                                <span class="label">{{skill_map[key]}}</span>
                                <span class="val">{{val}}</span>
                              </div>
                            </div>
                            <div class="rarity-box" v-if="showDetail">{{item.rarity_show}}</div>
                          </div>
                        </div>
                        <div class="buff-box" v-if="item.showBuff || item.unknowBuff">
                          <div class="buff" :class="item.unknowBuff ? 'red' : ''" v-if="item.buff_rule || item.unknowBuff">
                            <span class="label">规则</span>
                            <span class="val">{{ item.unknowBuff ? '未知' : (item.buff_rule + '%')}}</span>
                          </div>
                          <div class="buff" v-if="item.buff_muti!=100">
                            <span class="label">奇珍</span>
                            <span class="val">{{item.buff_muti-100}}%</span>
                          </div>
                          <div class="buff" v-if="item.buff_grade">
                            <span class="label">品阶</span>
                            <span class="val">{{item.buff_grade}}%</span>
                          </div>
                          <div class="buff" v-if="item.buff_skill">
                            <span class="label">技能</span>
                            <span class="val">{{item.buff_skill}}%</span>
                          </div>
                          <div class="buff" v-if="item.buff_equip">
                            <span class="label">厨具</span>
                            <span class="val">{{item.buff_equip}}%</span>
                          </div>
                          <div class="buff" v-if="item.buff_condiment">
                            <span class="label">调料</span>
                            <span class="val">{{item.buff_condiment}}%</span>
                          </div>
                        </div>
                      </div>
                      <div class="time-price">
                        <div class="time" v-if="item.time_last && calType.id[0] == 0 && !calLoad && item.grade">
                          <i class="el-icon-time" style="margin-right: 2px;"></i>{{item.time_last_show}}
                        </div>
                        <div class="price-box" v-if="showDetail && calType.id[0] != 0">
                          原始分: {{item.price_wipe_rule_total || 0}}
                        </div>
                        <div class="price-box" :class="item.unknowBuff || !item.chef ? 'red' : ''">
                          <span style="margin-right: 2px;" v-if="item.grade > 0 || !item.chef">$</span>
                          <div class="muti" v-if="item.grade > 0 || !item.chef">
                            <span class="price">{{item.price_buff}}</span>
                            <span class="cnt">*{{item.cnt}}</span>
                            <span style="margin: 0 2px">=</span>
                          </div>
                          <div class="total" v-if="item.grade > 0 || !item.chef">{{item.price_total}}</div>
                          <div v-if="item.grade < 1" class="red">{{item.gap}}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div v-if="!calHidden && calType.id[0] == 0" v-show="isOriginHei" class="bottom-ctl">
              <div :class="'plan-list ' + (planListShow ? 'show' : '')">
                <div class="empty-tips" v-if="planListShow && planList.length === 0">还没有方案┑(￣Д ￣)┍</div>
                <div v-if="planListShow">
                  <div v-for="(item, idx) in planList" class="plan-list-item" @click="setPlan(item.data)">
                    <span @click.stop="return;"><i class="el-icon-edit icon-btn" @click="editPlanName(idx)"></i></span>
                    {{item.name}}
                    <div @click.stop="return;" class="right">
                      <button class="btn btn-primary" @click="replacePlan(idx)" v-if="!showDel && !showSort">替换</button>
                      <button class="btn btn-primary btn-circle" @click="planSortUp(idx)" v-if="showSort">
                        <i class="icon-btn el-icon-arrow-up" style="color: #fff;"></i>
                      </button>
                      <button class="btn btn-primary btn-circle" @click="planSortDown(idx)" v-if="showSort">
                        <i class="icon-btn el-icon-arrow-down" style="color: #fff;"></i>
                      </button>
                      <button class="btn btn-delete" v-if="showDel" @click="delPlan(idx)">删除</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="btn-box">
                <i v-if="planListShow" class="icon-btn el-icon-arrow-down" @click="planListShow = false" style="color: #607d8b;"></i>
                <div>
                  <button v-if="!planListShow" class="btn btn-default" @click="planListShow = !planListShow">方案列表</button>
                  <button v-if="!planListShow" class="btn btn-primary" @click="saveNewPlan">保存为新方案</button>
                  <button
                    v-if="planListShow"
                    class="btn btn-primary"
                    :class="showSort ? 'yellow' : ''"
                    @click="showSort = !showSort; showDel = false;">{{showSort ? '确定' : '排序'}}</button>
                  <button
                    v-if="planListShow"
                    class="btn btn-primary"
                    :class="showDel ? 'yellow' : ''"
                    @click="showDel = !showDel; showSort = false;">{{showDel ? '确定' : '删除'}}</button>
                  <!-- <i class="icon-btn el-icon-share" @click="share" style="color: #607d8b;"></i> -->
                </div>
              </div>
            </div>
            <div id="customRuleBox" v-if="!calHidden && customRule" class="bottom-ctl">
              <div :class="'custom-rule-list ' + (customRuleShow ? 'show' : '')">
                <div class="ultimate-box">
                  <div class="title" v-if="customRule.effect">活动售价加成</div>
                  <div class="hr" v-if="customRule.effect"></div>
                  <div class="box-body" v-if="customRule.effect">
                    <div class="contain" v-if="customRule.effect.SkillEffect">
                      <div class="contain-title">技法加成</div>
                      <div class="prepend-input append-input" v-for="(val, key) in skill_map" v-if="null != customRule.effect.SkillEffect[key]">
                        <div class="input-box">
                          <div class="prepend">{{val}}</div>
                          <input type="number" v-model.lazy="customRule.effect.SkillEffect[key]"/>
                          <div class="append">%</div>
                        </div>
                      </div>
                    </div>
                    <div class="contain" v-if="customRule.effect.CondimentEffect">
                      <div class="contain-title">口味加成</div>
                      <div class="prepend-input append-input" v-for="(val, key) in condimentMap" v-if="null != customRule.effect.CondimentEffect[key]">
                        <div class="input-box">
                          <div class="prepend">{{val}}</div>
                          <input type="number" v-model.lazy="customRule.effect.CondimentEffect[key]"/>
                          <div class="append">%</div>
                        </div>
                      </div>
                    </div>
                    <div class="contain" v-if="customRule.effect.MaterialTypeEffect">
                      <div class="contain-title">食材类型加成</div>
                      <div class="prepend-input append-input" v-for="(val, key) in materialTypeMap" v-if="null != customRule.effect.MaterialTypeEffect[key]">
                        <div class="input-box">
                          <div class="prepend">{{val}}</div>
                          <input type="number" v-model.lazy="customRule.effect.MaterialTypeEffect[key]"/>
                          <div class="append">%</div>
                        </div>
                      </div>
                    </div>
                    <div class="contain" v-if="null != customRule.effect.TotalEffect">
                      <div class="contain-title">总售价加成</div>
                      <div class="prepend-input append-input">
                        <div class="input-box">
                          <div class="prepend">总</div>
                          <input type="number" v-model.lazy="customRule.effect.TotalEffect"/>
                          <div class="append">%</div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="title" v-if="customRule.skill">活动技法加成</div>
                  <div class="hr" v-if="customRule.skill"></div>
                  <div class="box-body" v-if="customRule.skill">
                    <div class="contain" v-if="customRule.skill.Skill">
                      <div class="contain-title">单技法</div>
                      <div class="prepend-input" v-for="(val, key) in skill_map" v-if="null != customRule.skill.Skill[key]">
                        <div class="input-box">
                          <div class="prepend">{{val}}</div>
                          <input type="number" v-model.lazy="customRule.skill.Skill[key]"/>
                        </div>
                      </div>
                    </div>
                    <div class="contain" v-if="customRule.skill.MaxLimit">
                      <div class="contain-title">菜谱上限</div>
                      <div class="prepend-input" v-for="val in [1, 2, 3, 4, 5]" v-if="null != customRule.skill.MaxLimit[val]">
                        <div class="input-box">
                          <div class="prepend">{{val}}星</div>
                          <input @focus="scrollUser(140)" type="number" v-model.lazy="customRule.skill.MaxLimit[val]"/>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="btn-box">
                <i v-if="customRuleShow" class="icon-btn el-icon-arrow-down" @click="customRuleShow = false" style="color: #607d8b;"></i>
                <div>
                  <button v-show="!customRuleShow" class="btn btn-default" @click="customRuleShow = !customRuleShow">活动加成配置</button>
                  <button v-show="customRuleShow" class="btn btn-primary" @click="customRuleShow = false">确定</button>
                  <button v-show="customRuleShow" class="btn btn-delete" @click="resetCustomRule">清空</button>
                </div>
              </div>
            </div>
          </div>
          <div class="rep" v-show="calCode == 'rep'">
            <el-table
              style="margin-top: -4px;"
              :data="calRepsPage"
              style="width: 100%"
              ref='calRepsTable'
              :default-sort="sort.calRep"
              @sort-change="handleCalRepSort"
              v-if="tableShow"
              :height="tableHeight - 6">
              <el-table-column fixed sortable="custom" prop="galleryId" label="No." width="55" v-if="calRepCol.id"></el-table-column>
              <el-table-column fixed sortable="custom" prop="name_show" label="菜谱名" width="80"></el-table-column>
              <el-table-column sortable="custom" prop="rarity_show" label="星" min-width="80" v-if="calRepCol.rarity"></el-table-column>
              <el-table-column prop="skills_show" label="技法" min-width="90" v-if="calRepCol.skills_sim"></el-table-column>
              <el-table-column sortable="custom" prop="stirfry" label="炒" min-width="48" v-if="calRepCol.skills"></el-table-column>
              <el-table-column sortable="custom" prop="boil" label="煮" min-width="48" v-if="calRepCol.skills"></el-table-column>
              <el-table-column sortable="custom" prop="knife" label="切" min-width="48" v-if="calRepCol.skills"></el-table-column>
              <el-table-column sortable="custom" prop="fry" label="炸" min-width="48" v-if="calRepCol.skills"></el-table-column>
              <el-table-column sortable="custom" prop="bake" label="烤" min-width="48" v-if="calRepCol.skills"></el-table-column>
              <el-table-column sortable="custom" prop="steam" label="蒸" min-width="48" v-if="calRepCol.skills"></el-table-column>
              <el-table-column sortable="custom" prop="materials_show" label="材料" min-width="130" v-if="calRepCol.materials"></el-table-column>
              <el-table-column sortable="custom" prop="origin" label="来源" min-width="90" v-if="calRepCol.origin"></el-table-column>
              <el-table-column sortable="custom" prop="limit" label="份数" min-width="64" v-if="calRepCol.limit"></el-table-column>
              <el-table-column sortable="custom" prop="price" min-width="64" label="单价" v-if="calRepCol.price"></el-table-column>
              <el-table-column sortable="custom" prop="buff_rule_show" min-width="90" label="规则加成" v-if="calRepCol.buff_rule && calType.id[0] != 0"></el-table-column>
              <el-table-column sortable="custom" prop="price_rule" min-width="80" label="规则分" v-if="calRepCol.price_rule && calType.id[0] != 0"></el-table-column>
              <el-table-column sortable="custom" prop="price_total" min-width="80" label="总得分" v-if="calRepCol.price_total"></el-table-column>
              <el-table-column sortable="custom" prop="total_time_show" min-width="100" label="总时间" v-if="calRepCol.total_time_show && calType.id[0] == 0"></el-table-column>
              <el-table-column sortable="custom" prop="gold_eff" label="金币/h" min-width="79" v-if="calRepCol.gold_eff && calType.id[0] == 0"></el-table-column>
              <el-table-column sortable="custom" v-for="item in repFilter.materialEff.row" :prop="'materialEff_' + item.id" :label="item.name" min-width="92"></el-table-column>
              <div v-for="(val, key) in calChef" v-if="val.row[0]">
                <el-table-column sortable="custom" :prop="'price_chef_' + key" :label="val.row[0].name" :min-width="nameMinWidth(val.row[0].name)"></el-table-column>
              </div>
              <el-table-column label="" min-width="1"></el-table-column>
            </el-table>
            <div class="pagination">
              <el-pagination
                background
                small
                :page-size="calRepsPageSize"
                :current-page.sync="calRepsCurPage"
                @current-change="handleCurrentChange"
                :pager-count="5"
                layout="total, prev, pager, next"
                :total="calReps.length">
              </el-pagination>
            </div>
          </div>
          <div class="etc_cal" v-show="calCode == 'etc_cal'">
            <span class="select-box" class="cal-type" style="width: calc(100% - 6px);">
              <muti-select
                ref="etcRule"
                placeholder="请选择规则"
                :option="etcRules"
                v-model="etcRule"
                :max="1"
                :empty="false"
              ></muti-select>
            </span>
            <div v-if = "etcRule.row[0]" class="url-box">
              点击链接或复制到浏览器打开：<br/>
              <a :href="location + '?time=' + etcRule.row[0].start_time">{{location + '?time=' + etcRule.row[0].start_time}}</a>
            </div>
          </div>
        </div>
      </div>
      <div v-show="navId === 11">
        <div class="info-box" :style="'height: '+ boxHeight + 'px;'">
          <div class="title">宴会跑分计算器</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="p" style="font-size: 18px; margin: 20px 0 20px 10px;">
              点击链接或复制到浏览器打开使用：<a href="https://run.bcjh.xyz">https://run.bcjh.xyz</a>
            </div>
            <div class="p">可以根据个人数据自动生成江湖风云宴的较优作业（不是最优解，只是提供思路），菜谱默认无专精。</div>
            <div class="p">生成的作业可以在L图鉴<a href="https://foodgame.github.io">https://foodgame.github.io</a>计算器手动微调。</div>
            <div class="p">规则列表和L图鉴的保持一致，<strong>仅提供州、省分段的</strong>。每周L图鉴更新宴会计算器规则后，会尽快同步规则。</div>
          </div>
          <div class="title">使用说明</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="p">
              首次使用或个人数据有更新时，需要填入<span class="code">白菜菊花数据ID</span>。
              在【个人】页使用<span class="code">个人数据云端暂存</span>功能获取。
            </div>
            <div class="p">
              上传个人数据前，需要在本网页维护好厨师、菜谱已有数据和个人修炼数据。
              修炼数据在【个人】页对照游戏内总修炼填写，厨师菜谱已有数据详细录入方式见首页常见问题。
            </div>
            <div class="p">
              <span class="code">期望分数</span>是你希望能达到的分数，因为跑分逻辑是找到满足期望分数的就返回结果，所以这个分越低出结果就越快。
              如果始终达不到期望分数，就会把迭代次数跑完，然后返回一个最高的结果。所以期望分数可以往高了填。
            </div>
            <div class="p">
              <span class="code">迭代次数</span>指程序尝试的厨师菜谱组合次数，迭代次数越多跑出来的结果就越有可能更好。
              对跑出来的结果不满意的话，可以尝试把迭代次数设大一点再跑。
            </div>
            <div class="p">
              计算使用的是本地的CPU资源，长时间执行可能会导致设备发热，飞速掉电等情况。
              所以不建议把迭代次数设得非常大！！<strong>大家对自己的设备好一点啊喂</strong>
            </div>
            <div class="p">
              分数列表中红色的表示没达到期望分数，绿色的表示达到了，每一个分数都可以点击，用来查看对应的作业。
            </div>
          </div>
        </div>
      </div>
      <div v-if="navId === 8">
        <div class="ultimate-box" :style="'height: '+ boxHeight + 'px;'">
          <div class="title">官方数据导入（厨子满级满阶才会导入）</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="btn-box" style="margin-top: 10px;">
              <el-input placeholder="在游戏设置页面获取校验码" v-model="userDataCode" size="mini" style="width: 180px;"></el-input>
              <span class="btn" style="line-height: 25px;" @click="syncUserData">导入数据</span>
            </div>
          </div>
          <div class="title">个人装饰/修炼数据配置</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="contain">
              <div class="contain-title">家具</div>
              <div class="prepend-input append-input">
                <div class="input-box">
                  <div class="prepend">装饰加成</div>
                  <input type="number" v-model.lazy="userUltimate.decoBuff"/>
                  <div class="append">%</div>
                </div>
              </div>
            </div>
            <div class="contain">
              <div class="contain-title">单技法</div>
              <div class="prepend-input" v-for="(val, key) in skill_map">
                <div class="input-box">
                  <div class="prepend">{{val}}</div>
                  <input type="number" v-model.lazy="userUltimate[key.slice(0, 1).toUpperCase() + key.slice(1)]"/>
                </div>
              </div>
            </div>
            <div class="contain">
              <div class="contain-title">全技法</div>
              <div class="prepend-input">
                <div class="input-box">
                  <div class="prepend">男厨</div>
                  <input type="number" v-model.lazy="userUltimate.Male"/>
                </div>
              </div>
              <div class="prepend-input">
                <div class="input-box">
                  <div class="prepend">女厨</div>
                  <input type="number" v-model.lazy="userUltimate.Female"/>
                </div>
              </div>
              <div class="prepend-input">
                <div class="input-box">
                  <div class="prepend">全体</div>
                  <input type="number" v-model.lazy="userUltimate.All"/>
                </div>
              </div>
            </div>
            <div class="contain">
              <div class="contain-title">菜谱上限</div>
              <div class="prepend-input" v-for="val in [1, 2, 3, 4, 5]">
                <div class="input-box">
                  <div class="prepend">{{val}}星</div>
                  <input @focus="scrollUser(140)" type="number" v-model.lazy="userUltimate[`MaxLimit_${val}`]"/>
                </div>
              </div>
            </div>
            <div class="contain">
              <div class="contain-title">菜谱售价</div>
              <div class="prepend-input append-input" v-for="val in [1, 2, 3, 4, 5]">
                <div class="input-box">
                  <div class="prepend">{{val}}星</div>
                  <input @focus="scrollUser(250)" type="number" v-model.lazy="userUltimate[`PriceBuff_${val}`]"/>
                  <div class="append">%</div>
                </div>
              </div>
            </div>
            <div class="contain">
              <div class="contain-title">特殊</div>
              <span class="select-box" style="width: 250px; position: relative; z-index: 1003;">
                <muti-select
                  ref="userPartial"
                  :option="partial_skill_list"
                  placeholder="上场类技能已修炼"
                  v-model="userUltimate.Partial"
                  @focus="scrollUser(410)"
                ></muti-select>
              </span>
              <span class="select-box" style="width: 250px;">
                <muti-select
                  ref="userSelf"
                  :option="self_skill_list"
                  placeholder="个人类技能已修炼"
                  v-model="userUltimate.Self"
                  @focus="scrollUser(430)"
                ></muti-select>
              </span>
            </div>
            <div class="btn-box" style="padding-left: 3px;">
              <span class="btn" @click="setAllUltimate">全修炼</span>
              <span class="btn" @click="setAllExistUltimate">全修炼（已有）</span>
              <span class="btn" @click="emptyUserUltimate">清空个人数据</span>
            </div>
          </div>
          <div class="title">个人数据云端暂存</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="btn-box" style="margin-top: 10px;">
              <span class="btn" @click="uploadData">上传个人数据</span>
              <span class="btn" @click="downloadData">获取云端数据</span>
              <div style="margin-top: 5px;">{{cloudIdShow}}</div>
            </div>
          </div>
          <div class="title">L版图鉴数据转移-手动复制版</div>
          <div class="hr"></div>
          <div class="box-body">
            <el-input
              type="textarea"
              :rows="10"
              placeholder="请贴入L版图鉴的个人数据。"
              v-model="LDataText"
              @focus="scrollUser(1000)"
            >
            </el-input>
            <div class="btn-box" style="margin-top: 10px;">
              <span class="btn" @click="importLDataText">导入L版图鉴数据</span>
            </div>
          </div>
          <div class="title">L版图鉴数据转移-文件版</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="btn-box" style="margin-top: 10px;">
              <span class="btn" @click="openLFile">导入L版图鉴数据文件</span>
              <input id="Lfile" style="display: none" type="file" accept="text/plain" @input="importLData(event)">
            </div>
          </div>
          <div class="title">个人数据备份-手动复制版</div>
          <div class="hr"></div>
          <div class="box-body">
            <el-input
              type="textarea"
              :rows="10"
              placeholder="请贴入备份的个人数据。（与L的网页版图鉴数据不是同一套，要导入L版数据用上面的L版图鉴数据转移功能，首次使用需自行录入修炼/装饰数据，菜谱/厨师已有数据可以自动生成，具体见首页的常见问题。）"
              v-model="userDataText"
              @focus="scrollUser(530)"
            >
            </el-input>
            <div class="btn-box" style="margin-top: 10px;">
              <span class="btn" @click="exportUserDataText">生成个人数据</span>
              <span class="btn" @click="importUserDataText">导入个人数据</span>
            </div>
          </div>
          <div class="title">个人数据备份-文件版（有的浏览器不支持）</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="btn-box" style="margin-top: 10px;">
              <span class="btn" @click="exportUserData">下载个人数据文件</span>
              <span class="btn" @click="openFile">导入个人数据文件</span>
              <input id="file" style="display: none" type="file" accept="text/plain" @input="importUserData(event)">
            </div>
          </div>
        </div>
      </div>
      <div v-if="navId === 9">
        <div class="info-box" :style="'height: '+ boxHeight + 'px;'">
          <div class="title">说明</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="p">
              本网页为<a href="https://foodgame.github.io">爆炒江湖图鉴网</a> by L 的精简手机版，开发者 小鱼，页面功能、数据等均参照原图鉴网（L神yyds！）。
            </div>
            <div class="p">
              本网页大部分功能与原图鉴网保持一致，不一致的部分会在下面的页面详情里详细说明。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">备胎和APP</div>
            <div class="p">
              正式：<a href="https://www.bcjh.xyz">https://www.bcjh.xyz</a>，现在不用收钱了！
            </div>
            <div class="p">
              备胎：<a href="https://yuwenxifan.github.io/bcjhMobile">https://yuwenxifan.github.io/bcjhMobile</a>，国内使用可能会比较慢
            </div>
            <div class="p">
              APP下载地址：<a href="https://wws.lanzouy.com/i3vs205msk0b">点击下载，密码：bcjh</a>
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">表格</div>
            <div class="p">
              分页的每页行数在设置里调整。不建议选[所有]，调整展示列/排序时重新渲染表格会很卡。
            </div>
            <div class="p">
              表格最左侧的固定列不可滑动（横向竖向都不行）。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">关键字搜索</div>
            <div class="p">
              表格 多个关键字搜索用空格隔开，满足其中一个关键字的会搜索出来。
            </div>
            <div class="p">
              下拉框 多个关键字搜索用空格隔开，多个关键字同时满足的才会搜索出来。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">菜谱</div>
            <div class="p">
              <span class="remove"><i class="el-icon-minus"></i> 移除</span> 品阶、熟练等个人数据列
            </div>
            <div class="p">
              <span class="add"><i class="el-icon-plus"></i> 新增</span> 技法、食材类型筛选新增[同时]按钮（例：[同时]按钮打开后选择炒、煮，则筛选同时使用了炒、煮技法的菜谱）。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">厨师</div>
            <div class="p">
              <span class="remove"><i class="el-icon-minus"></i> 移除</span> 厨具、修炼等个人数据列，修炼数据仅在【个人】页维护最终值。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">厨具</div>
            <div class="p">
              <span class="add"><i class="el-icon-plus"></i> 新增</span> 厨具技能筛选新增[同时]按钮。
            </div>
            <div class="p">
              <span class="add"><i class="el-icon-plus"></i> 新增</span> 厨具技能筛选新增[增益]按钮（例：[增益]按钮打开后，选择炒技法，则只筛选增加炒技法的厨具）。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">采集</div>
            <div class="p">
              <span class="add"><i class="el-icon-plus"></i> 新增</span> 每小时平均采集量的堆叠图，点击图例可以选择显示/不显示某个食材的数据。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">计算器</div>
            <div class="p">
              计算器<span class="bold">只使用【个人】页中的个人配置数据</span>，在厨师页打开全修炼不会应用到计算器上。
            </div>
            <div class="p">
              右上角的排序控制菜谱选择框的排序方式，默认分数降序。
            </div>
            <div class="p">
              厨师头像右下角的[满]表示厨师上场类/个人类技能已修炼。
            </div>
            <div class="p">
              菜谱图片右下角的绿色小勾表示菜谱已专精，设置中可以设置选菜时是否默认已专精。
            </div>
          </div>
          <div class="box-body">
            <div class="contain-title">个人</div>
            <div class="p">本站仅保存用户上一次在【菜谱】【厨师】等页选择的[展示列]与已有数据，与个人页填入的修炼最终值。</div>
            <div class="p">个人修炼数据在【个人】页维护，依照游戏中名厨录里的修炼加成数据填入即可（如果在意比丢/嘎喵汪的话，就分别填男厨/女厨/全体）。</div>
            <div class="p">本网站可以将L版图鉴的数据在【个人】页使用 [L版图鉴数据转移] 功能导入，会导入已有厨师菜谱与汇总后的厨师修炼数据，导入后无法转回L版图鉴数据。</div>
            <div class="p">如果没有L版图鉴的数据，首次使用本网站需手动填入修炼/装饰加成数据，厨师菜谱已有数据可以自动生成，具体见首页常见问题。</div>
            <div class="p">个人数据保存在本地，正常情况不会丢失，如需更换浏览器/设备等可使用备份功能或上传云端后换设备获取。</div>
            <div class="p">个人备份数据文件版部分浏览器不支持（APP可以上传不能下载，好像只有chrome支持_(:з」∠)_），推荐使用手动复制版。</div>
          </div>
          <div class="title">致谢</div>
          <div class="hr"></div>
          <div class="box-body">
            <div class="p">感谢L的图鉴网，感谢Boketto提供的菜谱数据，感谢试菜组提供的厨神规则，感谢闲时和小熊提供的升阶贵客符文数据，感谢梨大只提供的数据。</div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <!-- <script type="text/javascript" src="//cdn.jsdelivr.net/npm/eruda"></script> -->
  <!-- <script>eruda.init();</script> -->
  <script src="./js/vue.min.js"></script>
  <script src="./ele/index.js"></script>
  <script src="./js/jquery-2.1.4.min.js"></script>
  <script src="./js/echarts.min.js"></script>
  <script src="./js/common.js?v=1"></script>
  <script src="./js/index.js?v=261"></script>
</body>
</html>
